[viewBag]
==
<p class="caption">Оставить отзыв</p>
    <form action="#"  data-request-update1="'products/reviews': '#products-reviews'" data-request-success="$.fancybox.close()" data-request="MakeReview::onCreate" data-request-flash class="review_form">
    <input type="hidden" name="product_id" value="{{product.id}}">
        <div class="half">
            <input type="text" name="name" placeholder="Имя">
        </div>
        <div class="half">
            <input type="text" class="mask_tel" name="phone" placeholder="Телефон">
        </div>
        <div class="half">
            <input type="text" name="email" placeholder="Почта">
        </div>
        <div class="half">
            <p>Оценка</p>
            <div class="stars">
                <div data-star="1"></div>
                <div data-star="2"></div>
                <div data-star="3"></div>
                <div data-star="4"></div>
                <div data-star="5"></div>
                <p>0.0</p>
                <input type="number" hidden name="rating" id="ratingInput">
            </div>
        </div>
        <textarea name="comment" placeholder="Отзыв"></textarea>
        <button data-attach-loading class="btn">Отправить</button>
    </form>
{% put scripts %}

<script>
        
        $('.stars div').click(function () {
         $('.stars div').removeClass('active');
        var stars = $(this).data('star');
        $(this).parent().children('div').each(function (e) {
            if ($(this).data('star') <= stars) {             
                $(this).addClass('active');
            }
        });
        $('input#ratingInput').val(stars);
    });

</script> 
{% endput %}